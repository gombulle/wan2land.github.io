---
layout: post
title: PHP 레거시 리팩토링하기(1) - 컴포저 추가하기
date: 2015-12-17 20:54:05 +09:00
tags: ['php']
---

회사에서 밥먹고 하는 일이 매일매일 소스를 청결하게 유지하는 일이다 보니.. 그냥 정리할겸,
적어봅니다. ~~(황폐한 마음을 블로그 글로 치료중입니다..)~~

본 시리즈 글에서는 예제 소스로 대표적인 레거시 소스인 (그누보드5)[https://github.com/gnuboard/gnuboard5]를 사용할 것입니다.


가장 먼저 오래된 소스에서 해야할 일은 컴포저를 추가하는 일입니다.

작업 영역의 최상위 경로에 깔끔하게 컴포저 파일을 추가해줍시다. 굳이 뭔가를 설치하지 않아도 됩니다. 일단 추가합시다.

아마도 디렉토리 구조는 다음과 같을 것입니다.


레거시 코드의 리팩토링은 복잡도가 높은 곳에서 낮은곳으로만 흘러가야합니다. 그렇기 때문에
처음부터 컴포저 이거이거 사용할거야 하면서 왕창 설치하는 행동은 이후에 엄청난 재앙을
불러 일으키게 됩니다. 물론, 처음부터 프레임워크 하나 정해놓고 가는 방법도 좋습니다만,
이미 당신의 회사의 소스 코드가 오래된 이상 "풀스택프레임워크"로 가는 길은 머나멀 것입니다.
마음을 비우고 경량 프레임워크 중에 하나 고르는게 정신건강에 이로울 것 같습니다.


```php
<?php
include_once '../../common/lib.php';
include_once '../../common/func.php';
include_once '../../common/site.php';

```

여러분들의 레거시 소스 상단에는 아마도 이런 녀석들이 있을 겁니다. 
